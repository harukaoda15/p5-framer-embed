<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>p5.js Glitch</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="stylesheet" href="./style.css" />
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.2/lib/p5.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.2/lib/addons/p5.dom.min.js"></script>
  </head>
  <body>
    <div id="toolbar">
      <label class="btn">
        画像を選ぶ
        <input id="file" type="file" accept="image/*" hidden />
      </label>

      <label>ブロック数 <span id="blocksVal" style="opacity:.7;font-size:12px;"></span>
        <input id="blocks" type="range" min="0" max="800" step="1" value="260" />
      </label>

      <label>速度線数 <span id="streaksVal" style="opacity:.7;font-size:12px;"></span>
        <input id="streaks" type="range" min="0" max="600" step="1" value="180" />
      </label>

      <label>線の最大長 <span id="streakLenVal" style="opacity:.7;font-size:12px;"></span>
        <input id="streakLen" type="range" min="0.05" max="1" step="0.01" value="0.65" />
      </label>

      <label>線の太さ <span id="streakThickVal" style="opacity:.7;font-size:12px;"></span>
        <input id="streakThick" type="range" min="1" max="20" step="1" value="4" />
      </label>

      <label>グリッドサイズ <span id="blockMaxVal" style="opacity:.7;font-size:12px;"></span>
        <input id="blockMax" type="range" min="4" max="200" step="1" value="32" />
      </label>

      <label>グリッド間隔 <span id="gridGapVal" style="opacity:.7;font-size:12px;"></span>
        <input id="gridGap" type="range" min="0" max="8" step="1" value="2" />
      </label>

      <label>ぼかし <span id="preBlurVal" style="opacity:.7;font-size:12px;"></span>
        <input id="preBlur" type="range" min="0" max="4" step="0.1" value="1.0" />
      </label>

      <label>白寄せ <span id="biasVal" style="opacity:.7;font-size:12px;"></span>
        <input id="bias" type="range" min="0.5" max="1.0" step="0.01" value="0.70" />
      </label>

      <button id="reseed">ランダム化</button>
      
      <button id="download">保存（PNG）</button>
    </div>

    <main id="stage"></main>

    <script src="./sketch.js"></script>
  </body>
</html>
